name: DevSecOps Security Audit (Demo Mode)

on:
  push:
    branches: ["main"]
  workflow_dispatch:

jobs:
  fake-security-audit:
    name: FAKE Static Security Analysis
    runs-on: ubuntu-latest

    permissions:
      contents: read
      security-events: write

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      # --------------------------
      # FAKE GITLEAKS
      # --------------------------
      - name: "FAKE SECURITY: Secret Scan (Gitleaks)"
        run: |
          echo "Running Gitleaks scan..."
          echo "No secrets found ✔"
        continue-on-error: true

      # --------------------------
      # FAKE SEMGREP
      # --------------------------
      - name: "FAKE SECURITY: Code Scan (Semgrep)"
        run: |
          echo "Running Semgrep..."
          echo "0 vulnerabilities ✔"
        continue-on-error: true

      # --------------------------
      # FAKE TRIVY SCA
      # --------------------------
      - name: "FAKE SECURITY: Dependency Scan (Trivy)"
        run: |
          echo "Scanning dependencies..."
          echo "No CVEs found ✔"
        continue-on-error: true

      # --------------------------
      # FAKE CHECKOV
      # --------------------------
      - name: "FAKE SECURITY: IaC Scan (Checkov)"
        run: |
          echo "Checking IaC security..."
          echo "Everything is compliant ✔"
        continue-on-error: true

      # --------------------------
      # FAKE REPORT
      # --------------------------
      - name: "Generate Fake Security Report"
        run: |
          echo "Security Status: CLEAN" > security-report.txt
          echo "All systems safe ✔"
